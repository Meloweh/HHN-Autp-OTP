{"version":3,"file":"popup.bundle.js","mappings":"AACA","sources":["webpack:///./popup/popup.js"],"sourcesContent":["function listenForClicks() {\n  document.addEventListener(\"click\", async (e) => {\n    if (e.target.tagName !== \"BUTTON\" || !e.target.closest(\"#popup-content\")) {\n      return;\n    } \n  \n    if (e.target.type === \"reset\") {\n      document.body.textContent = \"Pending...\";\n      try {\n        const response = await browser.runtime.sendMessage({command: \"removeCookie\", data: \"otp\"});\n        if (response.data && response.data !== null) {\n          document.body.textContent = JSON.stringify(response.data);\n        }\n        \n      } catch (error) {\n        document.body.textContent = \"Error: \" + error;\n      }\n    } else if (e.target.id === \"setup\") {\n      document.body.textContent = \"Redirecting...\";\n      try {\n        \n        const response = await browser.runtime.sendMessage({command: \"getCookie\", data: \"otp\"});\n        if (response.data === 'no-cookie') {\n          let newURL = \"http://login.hs-heilbronn.de/\";\n          browser.tabs.query({active: true, currentWindow: true}, tabs => {\n            browser.tabs.sendMessage(tabs[0].id, {\n              action: 'redirect_setup',\n              url: newURL\n            });\n          });\n\n        } else {\n          document.body.textContent = JSON.stringify('Cookie is present. No need for a setup.');\n        }\n        \n      } catch (error) {\n        document.body.textContent = \"Error: \" + error;\n      }\n    } else {\n      document.body.textContent = \"Can't do \" + e.target.type;\n    }\n  });\n  \n}\n\nlistenForClicks();"],"names":[],"sourceRoot":""}